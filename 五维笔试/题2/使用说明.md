# SpringBoot 3.2.0 HelloWorld API 使用说明

## 项目概述

✅ **已完成功能**：
- SpringBoot 3.2.0 框架
- Spring Security 身份验证
- JWT Token 认证机制
- HelloWorld GET API（需要认证）
- 用户名密码登录 API
- 测试用户：test/123456

## 项目结构

```
题2/
├── src/main/java/com/example/
│   ├── HelloWorldApplication.java          # 主应用类
│   ├── config/SecurityConfig.java          # Spring Security 配置
│   ├── controller/
│   │   ├── AuthController.java             # 认证控制器（登录API）
│   │   └── HelloController.java            # HelloWorld 控制器
│   ├── dto/                                # 数据传输对象
│   ├── entity/User.java                    # 用户实体
│   ├── security/JwtAuthenticationFilter.java # JWT 认证过滤器
│   ├── service/UserService.java            # 用户服务
│   └── util/JwtUtil.java                   # JWT 工具类
├── src/main/resources/
│   └── application.properties              # 应用配置
├── src/test/                               # 测试代码
├── pom.xml                                 # Maven 配置
├── run.bat                                 # 启动脚本
├── test-api.bat                            # API 测试脚本
└── HelloWorld-API.postman_collection.json # Postman 测试集合
```

## 运行方式

### 方式1：使用IDE（推荐）
1. 使用 IntelliJ IDEA 或 Eclipse 导入项目
2. 等待 Maven 依赖下载完成
3. 运行 `HelloWorldApplication.java` 主类

### 方式2：使用Maven命令行
```bash
# 进入项目目录
cd 题2

# 编译项目
mvn clean compile

# 运行项目
mvn spring-boot:run
```

### 方式3：使用启动脚本
双击 `run.bat` 文件（需要先安装 Java 17+ 和 Maven）

## API 接口测试

### 1. 登录获取Token

**请求：**
```bash
POST http://localhost:8080/api/auth/login
Content-Type: application/json

{
    "username": "test",
    "password": "123456"
}
```

**响应：**
```json
{
    "token": "eyJhbGciOiJIUzUxMiJ9...",
    "username": "test",
    "message": "登录成功",
    "expiresIn": 86400000
}
```

### 2. 访问HelloWorld API

**请求：**
```bash
GET http://localhost:8080/api/hello
Authorization: Bearer eyJhbGciOiJIUzUxMiJ9...
```

**响应：**
```
Hello World! 欢迎您，test！
```

## 测试账号

| 用户名 | 密码 | 角色 |
|--------|------|------|
| test | 123456 | USER |
| admin | admin123 | ADMIN, USER |

## 使用工具测试

### 1. 使用 curl 命令
```bash
# 登录
curl -X POST http://localhost:8080/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"username":"test","password":"123456"}'

# 访问HelloWorld API（替换YOUR_TOKEN）
curl -X GET http://localhost:8080/api/hello \
  -H "Authorization: Bearer YOUR_TOKEN"
```

### 2. 使用 Postman
导入项目根目录下的 `HelloWorld-API.postman_collection.json` 文件

### 3. 使用测试脚本
双击 `test-api.bat` 文件进行快速测试

## 项目特点

✅ **符合要求**：
- 使用 SpringBoot 3.2.0
- 包含 HelloWorld GET API
- 需要 Spring Security 身份验证
- 返回 "Hello World" 字符串
- 提供用户名密码登录 API
- 支持 test/123456 测试账号

✅ **额外功能**：
- JWT Token 认证机制
- 完整的错误处理
- API 文档和测试工具
- 响应式设计
- 多用户支持
- Token 验证接口

## 注意事项

1. **Java版本**：需要 Java 17 或更高版本
2. **端口**：默认使用 8080 端口
3. **Token有效期**：24小时
4. **安全性**：生产环境请修改JWT密钥

## 故障排除

1. **端口占用**：修改 `application.properties` 中的 `server.port`
2. **依赖问题**：删除 `target` 目录后重新编译
3. **Java版本**：确保使用 Java 17+

项目已完成所有要求功能，可以直接运行测试！